<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit"> 
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0, shrink-to-fit=no">
    <meta name="format-detection" content="telephone=no,email=no">
    
    <title>杜草原de踩坑记录</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="applicable-device" content="pc,mobile">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
</head>
<body>
<!-- header -->
<header class="header" id="header">
    <div class="header__inner">
        <h1 class="title">
            
            <img src="https://avatars0.githubusercontent.com/u/16408347">
            <em><a href="/">杜草原de踩坑记录</a></em>
            <span>踩坑不要紧，关键是能爬出来</span>
        </h1>
        <nav class="nav">
            
            <a href="/"><i class="fa fa-home"></i> Home</a>
            
            <a href="/archives"><i class="fa fa-file-text"></i> Archives</a>
            
            <a href="/about"><i class="fa fa-id-card"></i> About</a>
            
        </nav>
    </div>
</header>
<!-- //header -->

<!-- content -->
<section class="content" id="content">
    <div class="content__inner">
    
    <article class="post">
    <div class="post__header">
        <h1 class="post__title">
            <a class="post__link" href="/2017/08-25-ie8下的textNode与attributeNode不能设置自定义属性/">ie8下文本节点与属性节点不能增加自定义属性</a>
        </h1>
        <time class="post__time">
            2017-08-25
        </time>
    </div>
    
    <div class="post__content ">
        
        <div class="post__brief">
            之前与 @张海峰 一起实现了一个HTML模板功能，不使用innerhtml，只替换对应的模板字符串。
实现原理是为遍历筛选出包含模板字符串的文本节点与属性节点，将原始模板保存在当前节点的一个自定义属性（例如_template）中。此后进行替换时，取当前节点的_template属性值进行计算。
在高版本浏览器中，运...
        </div>
        
        <div class="post__detail">
            <p>之前与 @张海峰 一起实现了一个HTML模板功能，不使用innerhtml，只替换对应的模板字符串。</p>
<p>实现原理是为遍历筛选出包含模板字符串的文本节点与属性节点，将原始模板保存在当前节点的一个自定义属性（例如_template）中。此后进行替换时，取当前节点的_template属性值进行计算。</p>
<p>在高版本浏览器中，运行很好，但在ie7/8下就坑了。ie7/8并不支持为text node与attribute node增加自定义属性，只支持element node增加自定义属性。</p>
<p>于是单独对ie7/8进行处理。</p>
<ol>
<li>当包含模板字符串的node为text时，document.createComment()创建一个注释节点保存模板内容， insertBefore当前textNode。</li>
<li>当node为attribute时，为当前的element增加一个自定义属性（例如data-tpl-attrName），属性值为当前attributeNode的值。</li>
</ol>

        </div>
        
        <span class="post__showall" onclick="javascript:articleFolder(this)"></span>
        
    </div>
    
    
    <div class="post__tag">
        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术文档/">技术文档</a></li></ul>
    </div>
    
</article>

    <article class="post">
    <div class="post__header">
        <h1 class="post__title">
            <a class="post__link" href="/2017/08-25-ios下弹性滚动的bug/">ios下弹性滚动的bug</a>
        </h1>
        <time class="post__time">
            2017-08-25
        </time>
    </div>
    
    <div class="post__content ">
        
        <div class="post__brief">
            在ios的UIWebView下，overflow:auto; 的元素的滚动很生硬，有时候会用 -webkit-overflow-scrolling:touch; 来实现类似原生的弹性滚动。
原理大约是UIWebView会对设置了 -webkit-overflow-scrolling:touch; 的对象，创建一个...
        </div>
        
        <div class="post__detail">
            <p>在ios的UIWebView下，overflow:auto; 的元素的滚动很生硬，有时候会用 -webkit-overflow-scrolling:touch; 来实现类似原生的弹性滚动。</p>
<p>原理大约是UIWebView会对设置了 -webkit-overflow-scrolling:touch; 的对象，创建一个UIWebOverflowScrollView来实现类似原生的渲染。</p>
<p>一般情况下没什么问题，但在某些时候，元素在内容滚动时会卡住，并带着整个页面一起移动了。</p>
<p>暂时没有找到好的解决方法，只能先把弹性滚动干掉了。</p>
<p>参考 <a href="http://www.cnblogs.com/chris-oil/p/6164966.html" target="_blank" rel="external">iOS 与 惯性滚动</a></p>

        </div>
        
        <span class="post__showall" onclick="javascript:articleFolder(this)"></span>
        
    </div>
    
    
    <div class="post__tag">
        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术文档/">技术文档</a></li></ul>
    </div>
    
</article>

    <article class="post">
    <div class="post__header">
        <h1 class="post__title">
            <a class="post__link" href="/2017/08-17-IE7-8获取不到不支持的css属性值/">IE7/8获取不到不支持的css属性值</a>
        </h1>
        <time class="post__time">
            2017-08-17
        </time>
    </div>
    
    <div class="post__content ">
        
        <div class="post__brief">
            原本是想实现在IE7/8下能兼容rem单位的polyfill，结果不小心踩到几个坑。特记录如下
1、IE7下，可以用style.getAttribute(“width”)来获取到不支持的属性值；但IE8下不可以；
2、不支持的属性的属性值，如background-size，是可以直接获取到的；
3、IE7/8下，...
        </div>
        
        <div class="post__detail">
            <p>原本是想实现在IE7/8下能兼容rem单位的polyfill，结果不小心踩到几个坑。特记录如下</p>
<p>1、IE7下，可以用style.getAttribute(“width”)来获取到不支持的属性值；但IE8下不可以；</p>
<p>2、不支持的属性的属性值，如background-size，是可以直接获取到的；</p>
<p>3、IE7/8下，&lt;style&gt;标签的innerHTML，只有在页面加载后的极短时间，能获取原始值；获取到的是浏览器处理过的值，不支持的属性值都被干掉了。</p>

        </div>
        
        <span class="post__showall" onclick="javascript:articleFolder(this)"></span>
        
    </div>
    
    
    <div class="post__tag">
        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术文档/">技术文档</a></li></ul>
    </div>
    
</article>

<div class="pagination">
    <span class="page-number current">1</span>
</div>
    </div>
</section>
<!-- //content -->

<!-- footer -->
<footer class="footer" id="footer">
    <div class="footer__inner">
        <div class="copyright">
            © 2017 <i class="fa fa-heart"></i> 杜草原
        </div>
    </div>
</footer>
<!-- //footer -->

<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/js/main.js"></script>


</body>
</html>